
## Package Management: SD-UX vs. Zypper and Cockpit

For the HP-UX administrator, swinstall, swlist, and swremove (SD-UX) are muscle memory. The transition to SLES 16 requires a conceptual shift from managing static "software depots" to interacting with dynamic, dependency-aware "repositories" via the **zypper** command-line engine and the **cockpit** web interface.

### The SAT Solver Revolution: Zypper vs. SD-UX

The most critical architectural difference lies in dependency resolution. HP-UX SD-UX is fundamentally a package *installer*. It verifies prerequisites but generally places the burden of retrieving dependencies on the administrator.  
SLES 16's **Zypper** utilizes libzypp, which is built on a Boolean Satisfiability (SAT) solver. When an administrator requests a package, the solver computes the most efficient path to a consistent system state, automatically selecting necessary libraries, resolving version conflicts, and handling architecture constraints.

#### Workflow Comparison

**A. Installing Software with Dependencies**

* **HP-UX (SD-UX):**  
  * *Action:* Install git.  
  * *Command:* swinstall \-s /var/spool/sw/git.depot git  
  * *Outcome:* If git requires libiconv and it is not in the depot or installed, the operation fails with a prerequisite error. The admin must manually locate the libiconv depot, register it, and retry.  
* **SLES 16 (Zypper):**  
  * *Action:* Install git.  
  * *Command:* zypper install git (or zypper in git)  
  * *Outcome:* Zypper queries all subscribed repositories. It identifies that git requires libsha1, libpcre2, and perl-Error. It calculates the install order, presents a transaction summary (size, packages to be installed), and prompts for confirmation. Upon y, it downloads and installs all components in a single transaction.

**B. Querying Package Metadata**

* **HP-UX:** Finding which product owns a binary is slow because swlist parses a flat-file database.  
  * *Command:* swlist \-l file | grep /usr/bin/perl  
* **SLES 16:** The RPM database is an indexed binary database, allowing near-instant queries.  
  * *Find owner of file:* rpm \-qf /usr/bin/perl  
  * *Info about available package:* zypper info git (Shows version, source repo, support status, and description).  
  * *Search by capability:* zypper search \--provides /usr/bin/perl (Finds any package that provides this path, even if not installed).

**C. Verification and Integrity**

* **HP-UX:** swverify git checks the file existence and permissions against the IPD (Installed Products Database).  
* **SLES 16:** rpm \-V git verifies file size, MD5/SHA256 checksum, permissions, type, owner, and group against the RPM database.

### Repository Management vs. Depots

In HP-UX, you manage "Depots" (local directories or tape devices). In SLES 16, you manage "Repositories" (remote HTTP/HTTPS/FTP servers or local directories).

| Task | HP-UX SD-UX | SLES 16 Zypper |
| :---- | :---- | :---- |
| **List Sources** | swlist \-l depot | zypper repos (or zypper lr \-d) |
| **Add Source** | swreg \-l depot /path/to/depot | zypper addrepo \<url\> \<alias\> |
| **Refresh Metadata** | (Manual re-registration usually required) | zypper refresh |
| **Clean Cache** | N/A | zypper clean |

**Expert Tip:** SLES 16 introduces the concept of **Vendor Stickiness**. If a package is installed from the SUSE-Main repo, Zypper will *not* automatically update it to a higher version found in a third-party repo (e.g., Pacman). This prevents stability regressions. To force a vendor change, the administrator must explicitly use zypper dup \--from \<repo\> or zypper install \--from \<repo\> \<package\>.4

### Cockpit: The Modern Replacement for SAM

In SLES 16, the monolithic sam (System Administration Manager) and legacy YaST modules have been succeeded by **Cockpit** for 1:1 system management.1  
Cockpit is a lightweight, web-based interface that communicates directly with system APIs (like systemd, NetworkManager, and PackageKit) via a websocket. It does not maintain its own database state, meaning changes made in the CLI (zypper) are instantly reflected in the GUI, and vice versa.

#### Key Capabilities for the Administrator

1. Software Management:  
   Unlike the static view of sam, Cockpit's software module provides a live view of the system's compliance status. It integrates with SUSE Customer Center to track subscriptions and available patches. Administrators can trigger updates, manage repositories, and inspect installed packages directly from the browser.1  
2. Systemd Integration:  
   Cockpit provides a visual hierarchy of the systemd dependency graph. An administrator can view unit logs (journald), override unit files, and manage targets (runlevels) without parsing complex systemctl list-dependencies output.  
3. Storage and Networking:  
   Cockpit visualizes the Btrfs subvolume layouts and Snapper snapshots discussed in Section 2.2, simplifying the complexity of rollback management that would otherwise require intricate CLI commands.

**Accessing Cockpit:**

* **Service:** systemctl enable \--now cockpit.socket  
* **URL:** https://\<server-ip\>:9090  
* **Authentication:** Uses standard PAM system credentials (root or sudo users).

By leveraging **Zypper** for scriptable, granular control and **Cockpit** for high-level visualization and management, the SLES 16 administrator gains a toolset that is significantly faster and more responsive than the legacy SD-UX/SAM combination.


### Command Mapping: SD-UX vs. Zypper

The following table provides a direct translation of common SD-UX tasks to their SLES 16 equivalents. Note that while SD-UX operates on local or NFS-mounted depots, Zypper interacts with networked repositories, handling metadata synchronization automatically.

| Administrative Task | HP-UX (SD-UX) | SLES 16 (Zypper/RPM) | Context & Critical Differences |
| :---- | :---- | :---- | :---- |
| **Install Package** | swinstall \-s /source package | zypper install package | Zypper automatically resolves and fetches dependencies (SAT Solver). SD-UX fails if prereqs are missing. |
| **Remove Package** | swremove package | zypper remove package | Zypper also offers to remove unused dependencies (-u). |
| **List Installed** | swlist | zypper search \-i <br /> rpm \-qa | rpm \-qa lists all packages; zypper se \-i provides a searchable, formatted list. |
| **Verify Integrity** | swverify package | rpm \-V package | Checks checksums, permissions, and ownership against the local RPM database. |
| **Find File Owner** | swlist \-l file | grep file | rpm \-qf /path/to/file | SLES queries the binary RPM DB instantly; SD-UX parses text files (slow). |
| **Search Remote** | *(Manual Depot Browsing)* | zypper search query | Searches all subscribed metadata (descriptions, summaries, and names). |
| **Add Source/Repo** | swreg \-l depot /path | zypper addrepo \<url\> \<alias\> | SLES repos persist in /etc/zypp/repos.d/. No need to re-register after reboots. |
| **Patch/Update** | swinstall \-x match\_target=true | zypper update <br /> zypper patch | patch installs security fixes; update upgrades packages to newer versions. |
| **Clean Up** | swremove \-d (Depot cleanup) | zypper clean | Removes cached headers and RPM files from /var/cache/zypp. |

