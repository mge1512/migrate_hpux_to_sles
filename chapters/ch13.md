### Clustering and High Availability: Serviceguard vs. Pacemaker

HP Serviceguard is widely considered the most mature UNIX clustering solution. SLES 16 utilizes the **Pacemaker** stack (with Corosync), which has reached feature parity but operates differently.

#### Architecture Comparisons

| Component | HP Serviceguard | SLES 16 (Pacemaker) | Transition Note |
| :---- | :---- | :---- | :---- |
| **Communication Layer** | TCP/UDP Heartbeat, proprietary protocol. | **Corosync** (Totem Single Ring Protocol). | Corosync handles membership and quorum. |
| **Resource Manager** | cmcld (Cluster Daemon). | **Pacemaker** (pacemakerd). | Pacemaker decides *where* things run. |
| **Configuration** | cmcluster.ascii & package.conf. | **CIB** (Cluster Information Base) XML. | Never edit XML directly; use crm or pcs shell. |
| **Agents** | Control Scripts (Shell). | **OCF Agents** (Open Cluster Framework). | OCF agents are standardized scripts with start, stop, monitor actions.36 |
| **Fencing** | Safety Timer / Lock Disk. | **STONITH** (Shoot The Other Node In The Head). | Mandatory in SLES 16\. Uses SBD (Storage Based Death) or IPMI. |

#### Configuration Complexity and Syntax

Serviceguard:  
Packages are monolithic. The control script handles IP assignment, disk mounting, and application start sequentially.  
Pacemaker:  
Resources are granular and linked by constraints.

* **Resource Group:** A container ensuring resources start sequentially on the same node.  
* **Colocation Constraint:** "WebIP must run on the same node as WebServer."  
* **Order Constraint:** "Filesystem must start before Database."

Migration Scenario:  
To migrate a Serviceguard package that mounts /dev/vg01/lvol1 and starts Oracle:

1. Define a Filesystem resource (OCF).  
2. Define an IPaddr2 resource (OCF).  
3. Define an oracle resource (OCF).  
4. Group them: pcs resource group add OracleGroup IP FS OracleDB.  
   This modularity allows for more complex dependency graphs than Serviceguard's linear scripts.37

